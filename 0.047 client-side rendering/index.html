<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Client-Side Rendering (CSR) - Interactive Guide</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="hero">
        <div class="hero-content">
          <h1>🌐 Client-Side Rendering (CSR)</h1>
          <p class="subtitle">
            Learn how modern web apps render content in the browser using
            JavaScript
          </p>
          <div class="hero-stats">
            <div class="stat-card">
              <div class="stat-number">85%</div>
              <div class="stat-label">of SPAs use CSR</div>
            </div>
            <div class="stat-card">
              <div class="stat-number">React</div>
              <div class="stat-label">Most popular CSR framework</div>
            </div>
            <div class="stat-card">
              <div class="stat-number">Fast</div>
              <div class="stat-label">Interactions after load</div>
            </div>
          </div>
        </div>
      </header>

      <nav class="tab-navigation">
        <button class="tab-btn active" onclick="showTab('basics')">
          📚 Basics
        </button>
        <button class="tab-btn" onclick="showTab('comparison')">
          ⚖️ Comparison
        </button>
        <button class="tab-btn" onclick="showTab('visualization')">
          🎨 Visualization
        </button>
        <button class="tab-btn" onclick="showTab('implementation')">
          💻 Implementation
        </button>
      </nav>

      <div class="content">
        <!-- Basics Tab -->
        <div id="basics" class="tab-content active">
          <h2>📚 What is Client-Side Rendering?</h2>

          <div class="info-card">
            <h3>🎯 Simple Definition</h3>
            <p>
              <strong>Client-Side Rendering (CSR)</strong> means the web page
              content is built by JavaScript <strong>in your browser</strong>,
              not on the server. The server sends an empty HTML shell, and
              JavaScript fills it with content.
            </p>
          </div>

          <div class="process-flow">
            <h3>How CSR Works - Step by Step</h3>
            <div class="flow-steps">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h4>User Requests Page</h4>
                  <p>You visit a website like www.example.com</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h4>Server Sends Empty HTML</h4>
                  <p>Server returns minimal HTML + JavaScript files</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h4>Browser Downloads JavaScript</h4>
                  <p>Browser fetches and parses JS bundle</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                  <h4>JavaScript Builds Page</h4>
                  <p>React/Vue creates DOM elements dynamically</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                  <h4>Content Appears</h4>
                  <p>User sees the fully rendered page</p>
                </div>
              </div>
            </div>
          </div>

          <div class="comparison-cards">
            <div class="compare-card">
              <h3>Traditional HTML</h3>
              <pre><code>&lt;!-- Server sends complete HTML --&gt;
&lt;html&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome!&lt;/h1&gt;
    &lt;p&gt;Content is here&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
              <p>✅ Content ready immediately</p>
            </div>

            <div class="compare-card">
              <h3>Client-Side Rendering</h3>
              <pre><code>&lt;!-- Server sends empty shell --&gt;
&lt;html&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    &lt;script src="app.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
              <p>⏳ JavaScript builds content later</p>
            </div>
          </div>

          <div class="pros-cons">
            <div class="pros">
              <h3>✅ Advantages</h3>
              <ul>
                <li>🚀 Rich, interactive user experience</li>
                <li>💰 Lower server costs (static files only)</li>
                <li>⚡ Fast interactions after initial load</li>
                <li>🔄 No page reloads needed</li>
                <li>📱 Feels like a native app</li>
                <li>🛠️ Easier to develop and maintain</li>
              </ul>
            </div>
            <div class="cons">
              <h3>❌ Disadvantages</h3>
              <ul>
                <li>🐌 Slow initial page load</li>
                <li>🔍 Poor SEO (search engines struggle)</li>
                <li>📱 Heavy on battery and resources</li>
                <li>🌐 Requires JavaScript enabled</li>
                <li>♿ Accessibility challenges</li>
                <li>📦 Large JavaScript bundles</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Comparison Tab -->
        <div id="comparison" class="tab-content">
          <h2>⚖️ CSR vs SSR - The Battle</h2>

          <div class="comparison-table">
            <table>
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>CSR (Client-Side)</th>
                  <th>SSR (Server-Side)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Initial Load</strong></td>
                  <td>❌ Slower (loads JS first)</td>
                  <td>✅ Faster (HTML ready)</td>
                </tr>
                <tr>
                  <td><strong>SEO</strong></td>
                  <td>❌ Poor (needs JS execution)</td>
                  <td>✅ Excellent (HTML crawlable)</td>
                </tr>
                <tr>
                  <td><strong>Interactivity</strong></td>
                  <td>✅ Instant after load</td>
                  <td>⚠️ After hydration</td>
                </tr>
                <tr>
                  <td><strong>Server Cost</strong></td>
                  <td>✅ Very low (CDN only)</td>
                  <td>❌ Higher (server processing)</td>
                </tr>
                <tr>
                  <td><strong>Development</strong></td>
                  <td>✅ Simpler setup</td>
                  <td>⚠️ More complex</td>
                </tr>
                <tr>
                  <td><strong>Best For</strong></td>
                  <td>Dashboards, Apps, Tools</td>
                  <td>Blogs, Marketing, E-commerce</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="when-to-use">
            <div class="use-case-card good">
              <h3>✅ Use CSR For:</h3>
              <ul>
                <li>
                  <strong>Admin Dashboards</strong> - Users already logged in,
                  SEO not needed
                </li>
                <li>
                  <strong>Web Applications</strong> - Gmail, Trello, Notion
                  (app-like experience)
                </li>
                <li>
                  <strong>Internal Tools</strong> - Company portals, CRM systems
                </li>
                <li>
                  <strong>Interactive Games</strong> - Real-time updates
                  essential
                </li>
                <li>
                  <strong>Single Page Apps</strong> - Complex user interactions
                </li>
              </ul>
            </div>

            <div class="use-case-card bad">
              <h3>❌ Avoid CSR For:</h3>
              <ul>
                <li>
                  <strong>Marketing Websites</strong> - SEO is critical for
                  traffic
                </li>
                <li><strong>Blogs</strong> - Content needs Google indexing</li>
                <li>
                  <strong>E-commerce Product Pages</strong> - Social sharing
                  important
                </li>
                <li><strong>News Sites</strong> - Fast initial load crucial</li>
                <li>
                  <strong>Landing Pages</strong> - First impression matters most
                </li>
              </ul>
            </div>
          </div>

          <div class="real-examples">
            <h3>🌟 Real-World Examples</h3>
            <div class="example-grid">
              <div class="example-card">
                <h4>CSR Examples</h4>
                <ul>
                  <li>📧 Gmail - Email application</li>
                  <li>📊 Trello - Project management</li>
                  <li>✍️ Notion - Note taking app</li>
                  <li>🎵 Spotify Web Player</li>
                  <li>💬 Slack - Team communication</li>
                </ul>
              </div>
              <div class="example-card">
                <h4>SSR Examples</h4>
                <ul>
                  <li>🛍️ Amazon Product Pages</li>
                  <li>📰 Medium Articles</li>
                  <li>🎬 Netflix Landing Page</li>
                  <li>📱 Apple Product Pages</li>
                  <li>🏠 Airbnb Listings</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Visualization Tab -->
        <div id="visualization" class="tab-content">
          <h2>🎨 CSR in Action - Live Demo</h2>

          <div class="demo-controls">
            <button class="demo-btn" onclick="simulateCSR()">
              ▶️ Simulate CSR Loading
            </button>
            <button class="demo-btn secondary" onclick="simulateSSR()">
              ⚡ Compare with SSR
            </button>
            <button class="demo-btn tertiary" onclick="resetDemo()">
              🔄 Reset Demo
            </button>
          </div>

          <div class="visualization-container">
            <div class="timeline-section">
              <div class="timeline-column">
                <h3>🖥️ Server Activity</h3>
                <div id="server-activity" class="activity-log"></div>
              </div>
              <div class="timeline-column">
                <h3>🌐 Network Activity</h3>
                <div id="network-activity" class="activity-log"></div>
              </div>
              <div class="timeline-column">
                <h3>💻 Browser Activity</h3>
                <div id="browser-activity" class="activity-log"></div>
              </div>
            </div>

            <div class="metrics-display">
              <h3>⚡ Performance Metrics</h3>
              <div class="metrics-grid">
                <div class="metric">
                  <div class="metric-label">Time to First Byte (TTFB)</div>
                  <div id="ttfb-value" class="metric-value">-</div>
                </div>
                <div class="metric">
                  <div class="metric-label">First Contentful Paint (FCP)</div>
                  <div id="fcp-value" class="metric-value">-</div>
                </div>
                <div class="metric">
                  <div class="metric-label">Time to Interactive (TTI)</div>
                  <div id="tti-value" class="metric-value">-</div>
                </div>
                <div class="metric">
                  <div class="metric-label">Total Load Time</div>
                  <div id="total-value" class="metric-value">-</div>
                </div>
              </div>
            </div>

            <div class="viewport-simulation">
              <h3>👁️ What User Sees</h3>
              <div id="viewport-content" class="viewport">
                <div class="viewport-placeholder">
                  Click a simulation button to see the rendering process
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Implementation Tab -->
        <div id="implementation" class="tab-content">
          <h2>💻 CSR Implementation in React</h2>

          <div class="framework-content active">
            <h3>React Client-Side Rendering</h3>

            <div class="code-example">
              <div class="code-header">
                <span class="code-file">public/index.html</span>
                <button class="copy-btn" onclick="copyCode(this)">
                  📋 Copy
                </button>
              </div>
              <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;title&gt;My CSR App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- Empty div - React will fill this --&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
    
    &lt;!-- JavaScript will build everything --&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>

            <div class="code-example">
              <div class="code-header">
                <span class="code-file">src/index.js</span>
                <button class="copy-btn" onclick="copyCode(this)">
                  📋 Copy
                </button>
              </div>
              <pre><code>import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

// This is CSR - React builds DOM in browser
const root = ReactDOM.createRoot(
  document.getElementById('root')
);

root.render(&lt;App /&gt;);
</code></pre>
            </div>

            <div class="code-example">
              <div class="code-header">
                <span class="code-file">src/App.js</span>
                <button class="copy-btn" onclick="copyCode(this)">
                  📋 Copy
                </button>
              </div>
              <pre><code>import { useState, useEffect } from 'react';

function App() {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);

  // Fetch data AFTER component mounts (in browser)
  useEffect(() => {
    fetch('https://api.example.com/products')
      .then(res => res.json())
      .then(data => {
        setData(data);
        setLoading(false);
      })
      .catch(error => {
        console.error('Error:', error);
        setLoading(false);
      });
  }, []);

  // Show loading state
  if (loading) {
    return &lt;div&gt;Loading...&lt;/div&gt;;
  }

  // Show error state
  if (!data) {
    return &lt;div&gt;Error loading data&lt;/div&gt;;
  }

  // Render data
  return (
    &lt;div&gt;
      &lt;h1&gt;Products&lt;/h1&gt;
      &lt;ul&gt;
        {data.map(product => (
          &lt;li key={product.id}&gt;{product.name}&lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/div&gt;
  );
}

export default App;
</code></pre>
            </div>

            <div class="implementation-notes">
              <h4>🔍 What Happens Step-by-Step:</h4>
              <ol>
                <li>
                  Browser receives empty HTML with
                  <code>&lt;div id="root"&gt;&lt;/div&gt;</code>
                </li>
                <li>Browser downloads React and your app JavaScript</li>
                <li>React executes and creates DOM elements</li>
                <li>Component mounts and <code>useEffect</code> runs</li>
                <li>API call happens in the browser</li>
                <li>Data loads and UI updates</li>
                <li>User finally sees the content</li>
              </ol>
            </div>
          </div>

          <div class="best-practices">
            <h3>✅ CSR Best Practices</h3>

            <div class="practice-grid">
              <div class="practice-card">
                <h4>✅ DO</h4>
                <ul>
                  <li>Show loading states</li>
                  <li>Handle errors gracefully</li>
                  <li>Optimize bundle size</li>
                  <li>Use code splitting</li>
                  <li>Implement lazy loading</li>
                  <li>Cache API responses</li>
                </ul>
              </div>

              <div class="practice-card">
                <h4>❌ DON'T</h4>
                <ul>
                  <li>Load everything upfront</li>
                  <li>Ignore loading states</li>
                  <li>Skip error handling</li>
                  <li>Forget about accessibility</li>
                  <li>Ignore bundle size</li>
                  <li>Block the main thread</li>
                </ul>
              </div>
            </div>

            <div class="optimization-tips">
              <h4>⚡ Performance Optimization</h4>
              <div class="code-example">
                <div class="code-header">
                  <span class="code-file">Code Splitting Example</span>
                  <button class="copy-btn" onclick="copyCode(this)">
                    📋 Copy
                  </button>
                </div>
                <pre><code>import { lazy, Suspense } from 'react';

// Load component only when needed
const Dashboard = lazy(() => import('./Dashboard'));

function App() {
  return (
    &lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;
      &lt;Dashboard /&gt;
    &lt;/Suspense&gt;
  );
}
</code></pre>
              </div>

              <div class="code-example">
                <div class="code-header">
                  <span class="code-file">API Caching Example</span>
                  <button class="copy-btn" onclick="copyCode(this)">
                    📋 Copy
                  </button>
                </div>
                <pre><code>// Simple cache implementation
const cache = new Map();

async function fetchWithCache(url) {
  // Return cached data if exists
  if (cache.has(url)) {
    return cache.get(url);
  }

  // Fetch and cache data
  const response = await fetch(url);
  const data = await response.json();
  cache.set(url, data);
  
  return data;
}
</code></pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="footer-content">
          <h3>🎓 Ready to Master CSR?</h3>
          <p>
            Client-Side Rendering is the foundation of modern web applications!
          </p>
          <div class="footer-stats">
            <div class="stat">
              <div class="stat-value">85%</div>
              <div class="stat-label">of SPAs use CSR</div>
            </div>
            <div class="stat">
              <div class="stat-value">Fast</div>
              <div class="stat-label">after initial load</div>
            </div>
            <div class="stat">
              <div class="stat-value">$70K+</div>
              <div class="stat-label">avg React dev salary</div>
            </div>
          </div>
          <div class="footer-actions">
            <a href="https://react.dev/" target="_blank" class="btn-primary"
              >Learn React</a
            >
            <a
              href="https://create-react-app.dev/"
              target="_blank"
              class="btn-secondary"
              >Start Building</a
            >
          </div>
          <div
            class="creator-section"
            style="
              margin-top: 2rem;
              padding-top: 2rem;
              border-top: 2px solid rgba(255, 255, 255, 0.1);
              text-align: center;
            ">
            <p style="font-size: 0.9rem; opacity: 0.9">
              Created by
              <a
                href="https://github.com/aakku106"
                target="_blank"
                style="color: #4fc3f7; text-decoration: none; font-weight: 600"
                >aakku106</a
              >
              - Making web development fun and accessible for everyone! 🚀
            </p>
          </div>
        </div>
      </footer>
    </div>

    <script src="script.js"></script>
  </body>
</html>
